"use strict";(self.webpackChunkreact_test=self.webpackChunkreact_test||[]).push([[380],{8380:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(2791),a=r(697),o=r(1889),s=r(7621),i=r(9504),c=r(890),d=r(3967),l=r(9913),m=r(5754),p=r(2839),h=r(466),x=r(2891),u=r(1827),y=r(3142),f=r(184);const v=e=>{let{data:t,colors:r}=e;return(0,f.jsx)(a.Z,{sx:{height:250},children:(0,f.jsx)(l.h,{width:"100%",height:"100%",children:(0,f.jsxs)(m.w,{data:t,children:[(0,f.jsx)(p.q,{strokeDasharray:"3 3"}),(0,f.jsx)(h.K,{dataKey:"timestamp",hide:!0}),(0,f.jsx)(x.B,{}),(0,f.jsx)(u.u,{transitionDuration:0}),Object.keys(t[0]||{}).filter((e=>"timestamp"!==e)).map((e=>(0,f.jsx)(y.x,{type:"monotone",dataKey:e,stroke:r[e],isAnimationActive:!1,dot:!1,strokeWidth:3},e)))]})})})},j=e=>{let{error:t}=e;return(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(s.Z,{sx:{height:450},children:(0,f.jsx)(i.Z,{children:(0,f.jsx)(c.Z,{variant:"h6",color:"error",children:t})})})})},w=e=>{let{sensorData:t,chartData:r}=e;const n=(0,d.Z)(),i={x:"dark"===(l=n.palette.mode)?"#8884d8":"#0000ff",y:"dark"===l?"#82ca9d":"#008000",z:"dark"===l?"#ffc658":"#ffcc00",w:"dark"===l?"#f54242":"#ff0000",pitch:"dark"===l?"#8884d8":"#0000ff",roll:"dark"===l?"#82ca9d":"#008000",yaw:"dark"===l?"#ffc658":"#ffcc00",compass:"dark"===l?"#8884d8":"#0000ff"};var l;return(0,f.jsx)(f.Fragment,{children:Object.entries(t).map((e=>{let[t,{data:n,max:d,min:l}]=e;return(0,f.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsxs)(s.Z,{sx:{height:500,mb:4},children:[(0,f.jsxs)(a.Z,{sx:{height:200,overflow:"auto",p:2},children:[(0,f.jsx)(c.Z,{variant:"h5",component:"h2",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object.entries(n).filter((e=>{let[t,r]=e;return null!==r&&void 0!==r})).map((e=>{var t,r;let[n,a]=e;return(0,f.jsx)(c.Z,{style:{color:i[n]},children:`${n.toUpperCase()}: ${a.toFixed(4)} (Max: ${null===(t=d[n])||void 0===t?void 0:t.toFixed(4)}, Min: ${null===(r=l[n])||void 0===r?void 0:r.toFixed(4)})`},n)}))]}),(0,f.jsx)(v,{data:r[t],colors:i})]})},t)}))})},g=()=>{const{sensorData:e,chartData:t,error:r}=(()=>{const[e,t]=(0,n.useState)({accelerometer:{data:{},max:{},min:{}},gravity:{data:{},max:{},min:{}},compass:{data:{},max:{},min:{}},gyroscope:{data:{},max:{},min:{}},inclinometer:{data:{},max:{},min:{}},orientation:{data:{},max:{},min:{}}}),[r,a]=(0,n.useState)({accelerometer:[],gravity:[],compass:[],gyroscope:[],inclinometer:[],orientation:[]}),[o,s]=(0,n.useState)(null),i=(0,n.useCallback)(((e,r)=>{t((t=>{const n={...t[e]};return Object.keys(r).forEach((a=>{n.max[a]=Math.max(t[e].max[a]||-1/0,r[a]),n.min[a]=Math.min(t[e].min[a]||1/0,r[a])})),n.data=r,{...t,[e]:n}}))}),[]),c=(0,n.useCallback)(((e,t)=>{a((r=>{const n={...t,timestamp:(new Date).getTime()},a=[...r[e],n],o=a.length>100?a.slice(-100):a;return{...r,[e]:o}}))}),[]);return(0,n.useEffect)((()=>{const e=[],t=e=>{const{alpha:t,beta:r,gamma:n}=e;if("number"===typeof t&&"number"===typeof r&&"number"===typeof n){const e={pitch:r,roll:n,yaw:t},a={compass:360-t};i("inclinometer",e),c("inclinometer",e),i("compass",a),c("compass",a)}};if(window.addEventListener("deviceorientation",t),e.push((()=>window.removeEventListener("deviceorientation",t))),"Accelerometer"in window)try{const t=new Accelerometer({frequency:60});t.addEventListener("reading",(()=>{const e={x:t.x/9.8,y:t.y/9.8,z:t.z/9.8};i("accelerometer",e),c("accelerometer",e)})),t.start(),e.push((()=>t.stop()))}catch(r){s("Accelerometer not supported or permission denied")}if("GravitySensor"in window)try{const t=new GravitySensor({frequency:60});t.addEventListener("reading",(()=>{const e={x:t.x/9.8,y:t.y/9.8,z:t.z/9.8};i("gravity",e),c("gravity",e)})),t.start(),e.push((()=>t.stop()))}catch(r){s("GravitySensor not supported or permission denied")}if("Gyroscope"in window)try{const t=new Gyroscope({frequency:60});t.addEventListener("reading",(()=>{const e={x:t.x,y:t.y,z:t.z};i("gyroscope",e),c("gyroscope",e)})),t.start(),e.push((()=>t.stop()))}catch(r){s("Gyroscope not supported or permission denied")}if("AbsoluteOrientationSensor"in window)try{const t=new AbsoluteOrientationSensor({frequency:60});t.addEventListener("reading",(()=>{const[e,r,n,a]=t.quaternion,o={x:e,y:r,z:n,w:a};i("orientation",o),c("orientation",o)})),t.start(),e.push((()=>t.stop()))}catch(r){s("AbsoluteOrientationSensor not supported or permission denied")}return()=>e.forEach((e=>e()))}),[i,c]),{sensorData:e,chartData:r,error:o}})();return(0,f.jsx)(o.ZP,{container:!0,spacing:4,sx:{py:4,px:2},children:r?(0,f.jsx)(j,{error:r}):(0,f.jsx)(w,{sensorData:e,chartData:t})})}}}]);
//# sourceMappingURL=380.4c16b1d2.chunk.js.map